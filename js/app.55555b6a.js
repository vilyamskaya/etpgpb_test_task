(function(t){function e(e){for(var o,s,c=e[0],i=e[1],l=e[2],f=0,m=[];f<c.length;f++)s=c[f],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);u&&u(e);while(m.length)m.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,c=1;c<n.length;c++){var i=n[c];0!==r[i]&&(o=!1)}o&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},r={app:0},a=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/etpgpb_test_task/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=i;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"03e3":function(t,e,n){},2606:function(t,e,n){"use strict";n("51ce")},3465:function(t,e,n){"use strict";n("7313")},"3ef0":function(t,e,n){"use strict";n("60f3")},4739:function(t,e,n){t.exports=n.p+"img/polar-bear.f4dd7320.png"},"51ce":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e623"),n("e379"),n("5dc8"),n("37e1");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app",class:t.color.title,attrs:{id:"app"}},[n("twitter-feeds")],1)},a=[],s=n("5530"),c=n("be30"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("color-picker",{staticClass:"picker",attrs:{colors:t.colors},on:{"click-color":function(e){return t.$store.dispatch("setColor",e)}}}),n("div",{staticClass:"feeds"},[n("div",{staticClass:"feeds__left"},[n("add-form"),n("transition-group",{staticClass:"tweets-list",attrs:{name:"list",tag:"ul",appear:""}},t._l(t.tweets,(function(t,e){return n("tweet-item",{key:"tweet-"+e,tag:"li",attrs:{tweet:t}})})),1)],1),n("div",{staticClass:"feeds__right"},[t.tweets.length>0?n("most-popular-tweets",{attrs:{tweets:t.tweets}}):t._e()],1)])],1)},l=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"color-picker"},t._l(t.colors,(function(e,o){return n("div",{key:"color-"+o,staticClass:"color-picker__item",style:"background-color: "+e.color,on:{click:function(n){return t.$emit("click-color",e)}}})})),0)},f=[],m={props:{colors:{type:Array,default:function(){return[]}}}},d=m,p=(n("a4fc"),n("2877")),w=Object(p["a"])(d,u,f,!1,null,"ef9c5bac",null),h=w.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.tweetText,expression:"tweetText"},{name:"focus",rawName:"v-focus"}],staticClass:"form__input",attrs:{"aria-label":"Write a tweet",type:"text",placeholder:"Write something..."},domProps:{value:t.tweetText},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.addNewTweet.apply(null,arguments))},input:function(e){e.target.composing||(t.tweetText=e.target.value)}}}),n("button",{staticClass:"form__btn",attrs:{name:"add"},on:{click:t.addNewTweet}},[t._v("Add")])])},v=[],_={name:"add-form",data:function(){return{tweetText:""}},directives:{focus:{inserted:function(t){t.focus()}}},methods:{addNewTweet:function(){this.tweetText.length>0&&this.$store.dispatch("addTweet",this.tweetText),this.tweetText=""}}},b=_,x=(n("3ef0"),Object(p["a"])(b,g,v,!1,null,"9b804a5c",null)),C=x.exports,T=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrapper"},[o("div",{staticClass:"tweet"},[o("div",{staticClass:"tweet__avatar"},[o("img",{attrs:{src:n("b967")("./"+t.tweet.user.photo+".png"),width:"60",height:"60",alt:"avatar"},on:{mouseleave:function(e){t.showName=!1},mouseenter:function(e){t.showName=!0}}}),o("div",{directives:[{name:"show",rawName:"v-show",value:t.showName,expression:"showName"}],staticClass:"tweet__user-name text-title"},[t._v(" "+t._s(t.tweet.user.name)+" ")])]),o("div",{staticClass:"tweet__content text-md"},[t.images&&t.images.length?o("div",{staticClass:"tweet__image"},t._l(t.images,(function(t,e){return o("img",{key:e,attrs:{src:t,alt:"image"}})})),0):t._e(),o("div",{staticClass:"tweet__text"},[t._v(" "+t._s(t.tweetText)+" ")]),o("div",{staticClass:"tweet__date"},[t._v(" "+t._s(t.formatDate)+" ")])])]),o("transition-group",{staticClass:"comments",attrs:{name:"list",tag:"ul",appear:""}},t._l(t.latestComments,(function(t,e){return o("comment-item",{key:"comment-"+e,tag:"li",attrs:{comment:t}})})),1)],1)},O=[],y=(n("fb6a"),n("ac1f"),n("466d"),n("159b"),n("5319"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"comment"},[o("div",{staticClass:"comment__avatar",on:{mouseleave:function(e){t.showName=!1},mouseenter:function(e){t.showName=!0}}},[o("img",{attrs:{src:n("b967")("./"+t.comment.user.photo+".png"),width:"40",height:"40",alt:"avatar"}}),o("div",{directives:[{name:"show",rawName:"v-show",value:t.showName,expression:"showName"}],staticClass:"comment__user-name text-title"},[t._v(" "+t._s(t.comment.user.name)+" ")])]),o("div",{staticClass:"comment__text text-md"},[t._v(" "+t._s(t.comment.text)+" ")])])}),E=[],k={name:"comment-item",props:{comment:{type:Object,default:null}},data:function(){return{showName:!1}}},j=k,N=(n("fdf5"),Object(p["a"])(j,y,E,!1,null,"c7ddf6b4",null)),S=N.exports,M={name:"tweet-item",components:{CommentItem:S},props:{tweet:{type:Object,default:null}},data:function(){return{showName:!1}},computed:{latestComments:function(){var t=this.tweet.comments.length-1;return t<3?this.tweet.comments:this.tweet.comments.slice(t-3,t)},images:function(){return this.tweet.text.match(/(https?:)?\/\/[^ "]+\.(jpg|jpeg|gif|png)/g)},tweetText:function(){var t=this.tweet.text;return this.images&&this.images.length&&this.images.forEach((function(e){t=t.replace(e,"")})),t},formatDate:function(){return this.tweet.date.slice(0,this.tweet.date.length-3)}}},I=M,$=(n("ed23"),Object(p["a"])(I,T,O,!1,null,"1ea4a92a",null)),D=$.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popular-tweets"},[n("p",{staticClass:"popular__title text-title"},[t._v("Most popular")]),n("transition-group",{staticClass:"tweets",attrs:{name:"list",tag:"ul",appear:""}},t._l(t.filteredTweets,(function(e,o){return n("li",{key:"popular-"+o,staticClass:"tweet text-md"},[n("div",{staticClass:"tweet__text"},[t._v(t._s(t.tweetText(e.text)))]),n("div",{staticClass:"tweet__comments-amount"},[t._v(" "+t._s(e.comments.length+" comment"+(e.comments.length>1?"s":""))+" ")])])})),0)],1)},A=[],L=n("2909"),F=(n("4e82"),{name:"most-populat-tweets",props:{tweets:{type:Array,default:function(){return[]}}},computed:{filteredTweets:function(){var t=Object(L["a"])(this.tweets);return t.sort((function(t,e){return e.comments.length-t.comments.length})).slice(0,5)}},methods:{tweetText:function(t){var e=t.match(/(https?:)?\/\/[^ "]+\.(jpg|jpeg|gif|png)/g),n=t;return e&&e.length&&e.forEach((function(t){n=n.replace(t,"")})),n}}}),G=F,R=(n("603b"),Object(p["a"])(G,P,A,!1,null,"fece78d4",null)),W=R.exports,J=n("2f62"),B={name:"twitter-feeds",components:{ColorPicker:h,AddForm:C,TweetItem:D,MostPopularTweets:W},data:function(){return{colors:[{title:"light",color:"#af81db"},{title:"dark",color:"#3A4141"}]}},computed:Object(s["a"])({},Object(J["b"])(["tweets"])),mounted:function(){this.$store.dispatch("getTweets"),this.$store.dispatch("setId")}},U=B,q=(n("3465"),Object(p["a"])(U,i,l,!1,null,"0ba78718",null)),H=q.exports,z={components:{TwitterFeeds:H},computed:Object(s["a"])({},Object(J["b"])(["color"])),watch:{"color.title":function(t){"light"===t?Object(c["a"])({variables:{"--color-accent":"#af81db","--color-bg":"#ffffff","--color-box":"#e3e2ea","--color-text":"#000000","--color-border":"#d7dfd9"}}):Object(c["a"])({variables:{"--color-accent":"#50ae8e","--color-bg":"#1e2222","--color-box":"#3a4141","--color-text":"#ffffff","--color-border":"#868a86"}})}},created:function(){this.$store.dispatch("getColor")}},K=z,Q=(n("5740"),n("2606"),Object(p["a"])(K,r,a,!1,null,"31c666f3",null)),V=Q.exports,X=(n("7db0"),n("d3b7"),n("25f0"),{setItem:function(t,e){localStorage.setItem(t.toString(),JSON.stringify(e))},getColor:function(){var t=localStorage.getItem("color");return t?JSON.parse(t):{title:"light",color:"#FFFC92"}},setColor:function(t){X.setItem("color",t)},updateLocalStorage:function(t){X.setItem("tweets",t)},getTweets:function(){var t=localStorage.getItem("tweets");return t?JSON.parse(t):[]}});o["a"].use(J["a"]);var Y=new J["a"].Store({state:{tweets:[],color:null,id:null,commentators:[{name:"Bear",photo:"bear"},{name:"Dog",photo:"dog"},{name:"Polar Bear",photo:"polar-bear"},{name:"Snake",photo:"snake"}],comments:["Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua","Hello!","I like chocolate","I like ice cream","Is it Twitter?","Awesome!","Bye"]},getters:{color:function(t){return t.color},tweets:function(t){return t.tweets}},mutations:{SET_COLOR:function(t,e){t.color=e,X.setColor(e)},GET_COLOR:function(t){t.color=X.getColor()},ADD_TWEET:function(t,e){var n={text:e,id:t.id++,comments:[],user:{name:"Cat",photo:"cat"},date:(new Date).toLocaleString()};t.tweets.push(n),X.updateLocalStorage(t.tweets)},SET_ID:function(t){var e=t.tweets[t.tweets.length-1];t.id=e?e.id+1:0},GET_TWEETS:function(t){t.tweets=X.getTweets()},GENERATE_COMMENTS:function(t){for(var e=t.id,n=Math.round(10*Math.random()),o=function(n){var o=5+Math.round(25*Math.random()),r=t.commentators[Math.round(Math.random()*(t.commentators.length-1))],a=t.comments[Math.round(Math.random()*(t.comments.length-1))];setTimeout((function(){t.tweets.find((function(t){return t.id===e-1})).comments.push({text:a,user:r}),X.updateLocalStorage(t.tweets)}),1e3*o)},r=0;r<n;r++)o(r)}},actions:{setColor:function(t,e){var n=t.commit;n("SET_COLOR",e)},getColor:function(t){var e=t.commit;e("GET_COLOR")},addTweet:function(t,e){var n=t.commit;n("ADD_TWEET",e),n("GENERATE_COMMENTS")},setId:function(t){var e=t.commit;e("SET_ID")},getTweets:function(t){var e=t.commit;e("GET_TWEETS")}}});o["a"].config.productionTip=!1,new o["a"]({store:Y,render:function(t){return t(V)}}).$mount("#app")},5740:function(t,e,n){"use strict";n("90f8")},"603b":function(t,e,n){"use strict";n("f79d")},"60f3":function(t,e,n){},7083:function(t,e,n){t.exports=n.p+"img/snake.f4c13925.png"},7313:function(t,e,n){},"90f8":function(t,e,n){},a10a:function(t,e,n){t.exports=n.p+"img/cat.0cf4d712.png"},a2bc:function(t,e,n){t.exports=n.p+"img/bear.ac195ec7.png"},a4fc:function(t,e,n){"use strict";n("03e3")},b967:function(t,e,n){var o={"./bear.png":"a2bc","./cat.png":"a10a","./dog.png":"bfef","./polar-bear.png":"4739","./snake.png":"7083"};function r(t){var e=a(t);return n(e)}function a(t){if(!n.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}r.keys=function(){return Object.keys(o)},r.resolve=a,t.exports=r,r.id="b967"},bfef:function(t,e,n){t.exports=n.p+"img/dog.714885b4.png"},dcc0:function(t,e,n){},ed23:function(t,e,n){"use strict";n("dcc0")},f30b:function(t,e,n){},f79d:function(t,e,n){},fdf5:function(t,e,n){"use strict";n("f30b")}});
//# sourceMappingURL=app.55555b6a.js.map